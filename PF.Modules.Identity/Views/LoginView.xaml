<UserControl x:Class="PF.Modules.Identity.Views.LoginView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:prism="http://prismlibrary.com/"
             xmlns:pf="clr-namespace:PF.UI.Controls;assembly=PF.UI.Controls"
             Width="320" Height="260">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <TextBlock Text="欢迎登录" FontSize="22" FontWeight="Bold" 
                   HorizontalAlignment="Center" Margin="0,0,0,20" Foreground="#333"/>

        <Grid Grid.Row="1" Margin="0,5">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="60"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <TextBlock Text="账号" VerticalAlignment="Center" Foreground="#666"/>
            <TextBox Grid.Column="1" Text="{Binding UserName, UpdateSourceTrigger=PropertyChanged}" 
                     Height="30" VerticalContentAlignment="Center" Padding="5,0"/>
        </Grid>

        <Grid Grid.Row="2" Margin="0,5">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="60"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <TextBlock Text="密码" VerticalAlignment="Center" Foreground="#666"/>
            <PasswordBox Grid.Column="1" 
                         pf:PasswordBoxAttach.Password ="{Binding Password, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                         Height="30" VerticalContentAlignment="Center" Padding="5,0"/>
        </Grid>

        <TextBlock Grid.Row="3" Text="{Binding ErrorMessage}" Foreground="Red" 
                   TextWrapping="Wrap" Margin="0,10" Height="20" HorizontalAlignment="Center"/>

        <StackPanel Grid.Row="4" Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Bottom">
            <Button Content="登录" Command="{Binding LoginCommand}" IsDefault="True"
                    Width="75" Height="35" Margin="0,0,10,0"
                    IsEnabled="{Binding IsLoggingIn, Converter={StaticResource Boolean2BooleanReConverter}}"/>

            <Button Content="注销" Command="{Binding LogoutCommand}" 
                    Width="75" Height="35" Margin="0,0,10,0"/>

            <Button Content="取消" Command="{Binding CancelCommand}" 
                    Width="75" Height="35"/>
        </StackPanel>
    </Grid>
</UserControl>